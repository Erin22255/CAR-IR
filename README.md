# Arduino 循跡與避障智慧小車

基於 Arduino 的循跡與避障小車專案

本專案旨在透過紅外線循跡感測器與超音波測距模組，實現小車自動循跡與基礎避障功能，適合 Arduino 初學者學習與實作。

## 專案功能

- 紅外線感測器偵測黑線，自動循跡
- 轉彎指示燈
- 支援基礎避障功能
- 支援超音波避障功能
- 結構簡單，易於擴充

## 硬體需求

- Arduino UNO 或相容開發板
- 紅外線循跡感測器模組
- L298N 馬達驅動模組
- 直流馬達與小車底盤
- 超音波測距模組（如 HC-SR04，可選）
- 輪子、LED燈
- 杜邦線、電池等

## 軟體說明

- 使用 Arduino IDE 進行開發
- 提供完整原始碼與詳細註解

## 程式邏輯簡介

1. **初始化**：設定各感測器與馬達驅動腳位模式，初始化序列埠通訊（如有）。
2. **主迴圈**：
   - 讀取紅外線循跡感測器資料，判斷小車目前是否在黑線上。
   - 根據感測器資料控制左右馬達，讓小車沿黑線行駛。
   - 若啟用超音波模組，定期偵測前方障礙物距離。
   - 若偵測到障礙物，執行避障邏輯（如停車、轉向等），避障後恢復循跡。
3. **馬達控制**：根據循跡與避障判斷結果，控制 L298N 模組驅動馬達前進、後退、轉向或停止。
4. **除錯與擴充**：可透過序列埠輸出除錯資訊，方便參數調整與功能擴充。

邏輯樹狀圖
├─ 初始化所有感測器和馬達
│
└─ 進入主循環：
│
├─ 1. 讀取所有感測器：
│ ├─ 紅外線循跡：左(L)、右(R)
│ ├─ 超音波：前方距離(D)
│ └─ 紅外避障：左(AL)、右(AR)
│
├─ 2. 障礙判斷：
│ ├─ 如果 D < 15cm 或 AL=障礙 或 AR=障礙：
│ │ │
│ │ ├─ 停止
│ │ ├─ 後退0.3秒
│ │ ├─ 判斷避障方向：
│ │ │ ├─ 如果 AL=障礙：向右轉0.6秒
│ │ │ ├─ 如果 AR=障礙：向左轉0.6秒
│ │ │ └─ 如果 正前方障礙：隨機選左右轉0.8秒
│ │ │
│ │ └─ 前進0.5秒
│ │
│ └─ 否則：
│ │
│ └─ 3. 循跡判斷：
│ ├─ 如果 L=黑線 且 R=黑線：避障（十字路口）
│ ├─ 如果 L=白線 且 R=黑線：右轉校正
│ ├─ 如果 L=黑線 且 R=白線：左轉校正
│ └─ 如果 L=白線 且 R=白線：前進
│
└─ 延時50ms後繼續循環

## 快速開始

1. 依照電路圖連接所有硬體模組（如需避障請接上超音波模組）。
2. 使用 Arduino IDE 開啟並上傳 `car.ino` 程式至開發板。
3. 上電後小車即可自動循跡與避障。

## 目錄結構

- `README.md`：專案說明文件
- `car.ino`：主程式碼
- `sumup.md`:是測試過程和總結心得
- `car direction control.ino`、'test_forward.ino':是測試用檔案
- `...`：其他相關檔案


## 聯絡方式

如有問題歡迎提交 issue 或聯絡作者。
